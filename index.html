<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.58.1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Shi.bro的博客 | 我的个人博客</title>
    <meta property="og:title" content="Shi.bro的博客 | 我的个人博客">
    <meta property="og:type" content="website">
    <meta name="Keywords" content="java,博客,分享">
    <meta name="description" content="专注于IT互联网，JAVA、设计模式、程序员的生存方式">
    <meta property="og:url" content="http://www.sszblog.xyz/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="/css/normalize.css">
    
    <link rel="stylesheet" href="/css/style.css">
    <link rel="alternate" type="application/rss+xml+xml" href="http://www.sszblog.xyz/index.xml" title="Shi.bro的博客" />
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    


    
    
</head>


<body>
<header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <h1>
                        <a id="logo" href="http://www.sszblog.xyz">
                            Shi.bro的博客
                        </a>
                    </h1>
                
                <p class="description">我的个人博客</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="http://www.sszblog.xyz">首页</a>
                    
                    <a  href="http://www.sszblog.xyz/archives/" title="目录">目录</a>
                    
                    <a  href="http://www.sszblog.xyz/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>


<div id="body">
    <div class="container">
        <div class="col-group">

            <div class="col-8" id="main">
                <div class="res-cons">
                    
                        <article class="post">
                            <header>
                                <h1 class="post-title">
                                    <a href="http://www.sszblog.xyz/archives/archives/" title="archives" >archives</a>
                                </h1>
                            </header>
                            <date class="post-meta meta-date">
                                2019年9月11日
                            </date>
                            
                            <div class="post-content">
                                这个是archives……
                            </div>
                            <p class="readmore"><a href="http://www.sszblog.xyz/archives/archives/">阅读全文</a></p>
                        </article>
                    
                        <article class="post">
                            <header>
                                <h1 class="post-title">
                                    <a href="http://www.sszblog.xyz/about/about/" title="关于" >关于</a>
                                </h1>
                            </header>
                            <date class="post-meta meta-date">
                                2019年9月11日
                            </date>
                            
                            <div class="post-content">
                                Hi,欢迎访问我的博客,博主的工作是Java 金融服务开发,平时对其他各种技术也有兴趣,本博客会更新一些我平常工作和业余接触到的技术知识,以Java开发为主,博主也是半个技术小白,目前正在自我进化中,如果各位看到文章中有错误或者想要提问,欢迎与我联系,我会尽快改正或尽力解答.
感谢Hugo提供了优秀的博客静态生成部署框架,也感谢GitHub Page提供免费的网页部署空间,也感谢Hugo提供了这个充***主题.……
                            </div>
                            <p class="readmore"><a href="http://www.sszblog.xyz/about/about/">阅读全文</a></p>
                        </article>
                    
                        <article class="post">
                            <header>
                                <h1 class="post-title">
                                    <a href="http://www.sszblog.xyz/readme/" title="readme" >readme</a>
                                </h1>
                            </header>
                            <date class="post-meta meta-date">
                                2019年9月11日
                            </date>
                            
                            <div class="post-content">
                                  Java  Java8实战阅读笔记  GIT  Java8  Java8实战阅读笔记  GIT  git初始化操作  ……
                            </div>
                            <p class="readmore"><a href="http://www.sszblog.xyz/readme/">阅读全文</a></p>
                        </article>
                    
                        <article class="post">
                            <header>
                                <h1 class="post-title">
                                    <a href="http://www.sszblog.xyz/project/%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" title="全局异常处理" >全局异常处理</a>
                                </h1>
                            </header>
                            <date class="post-meta meta-date">
                                2019年11月21日
                            </date>
                            
                            <div class="post-meta">
                                <span>|</span>
                                
                                <span class="meta-category"><a href="http://www.sszblog.xyz/categories/spring">Spring</a></span>
                                
                            </div>
                            
                            <div class="post-content">
                                通过RestControllerAdvice和ExceptionHandler实现全局异常捕获 起因： 我么希望通过全局统一的异常处理将自定义错误码以json的形式发送给前端。
步骤: 1.定义一个统一结果返回类BaseRspVo import com.shizhongcai.business.common.domain.enums.ErrorCodesEnum; import com.shizhongcai.business.common.exception.BaseException; import lombok.Data; @Data public class BaseRspVo&lt;T&gt; { private boolean success; private String msg; private Integer errorCode; private T data; public BaseRspVo() { } public BaseRspVo (T data){ this.success = true; this.msg= ErrorCodesEnum.SUCCESS.getMsg(); this.errorCode = ErrorCodesEnum.SUCCESS.getCode(); this.data = data; } public BaseRspVo (boolean success, String msg, int errorCode) { this.success = success; this.msg = msg; this.errorCode = errorCode; } public BaseRspVo (boolean success, String msg, int errorCode, T data) { this(success,msg,errorCode); this.……
                            </div>
                            <p class="readmore"><a href="http://www.sszblog.xyz/project/%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/">阅读全文</a></p>
                        </article>
                    
                        <article class="post">
                            <header>
                                <h1 class="post-title">
                                    <a href="http://www.sszblog.xyz/project/filter%E5%92%8Cinterceptor/" title="项目开发" >项目开发</a>
                                </h1>
                            </header>
                            <date class="post-meta meta-date">
                                2019年11月20日
                            </date>
                            
                            <div class="post-meta">
                                <span>|</span>
                                
                                <span class="meta-category"><a href="http://www.sszblog.xyz/categories/spring">Spring</a></span>
                                
                            </div>
                            
                            <div class="post-content">
                                ……
                            </div>
                            <p class="readmore"><a href="http://www.sszblog.xyz/project/filter%E5%92%8Cinterceptor/">阅读全文</a></p>
                        </article>
                    
                        <article class="post">
                            <header>
                                <h1 class="post-title">
                                    <a href="http://www.sszblog.xyz/project/jsr-303%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C/" title="项目开发" >项目开发</a>
                                </h1>
                            </header>
                            <date class="post-meta meta-date">
                                2019年11月20日
                            </date>
                            
                            <div class="post-meta">
                                <span>|</span>
                                
                                <span class="meta-category"><a href="http://www.sszblog.xyz/categories/spring">Spring</a></span>
                                
                            </div>
                            
                            <div class="post-content">
                                JSR-303参数校验 步骤 1.创建校验参数类
import lombok.Data; import org.hibernate.validator.constraints.Range; import org.springframework.format.annotation.DateTimeFormat; import javax.validation.constraints.*; import java.util.Date; /** * 参数验证请求参数 * @Author shizhongcai * @Date 2019/11/20 15:35 */ @Data public class ValidatorReqVo{ @NotNull(message = &quot;id不能为空&quot;) private Integer id; @NotNull @Future(message = &quot;格式为yyyy-MM-dd,且为将来时间&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) private Date future; @NotNull @DecimalMin(value = &quot;0.1&quot;) @DecimalMax(value = &quot;1000&quot;) private Double doubleValue; @NotNull @Min(value = 1) @Max(value = 10) private Integer intValue; @NotNull @Range(min = 1,max = 10,message = &quot;最小为1，最大为10&quot;) private Integer range; @NotBlank @Email private String email; @NotBlank @Size(min = 10,max = 20,message = &quot;字符串长度在10-20之间&quot;) private String strSize; }  2.……
                            </div>
                            <p class="readmore"><a href="http://www.sszblog.xyz/project/jsr-303%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C/">阅读全文</a></p>
                        </article>
                    
                        <article class="post">
                            <header>
                                <h1 class="post-title">
                                    <a href="http://www.sszblog.xyz/project/%E5%85%B6%E4%BB%96/" title="项目开发" >项目开发</a>
                                </h1>
                            </header>
                            <date class="post-meta meta-date">
                                2019年11月20日
                            </date>
                            
                            <div class="post-meta">
                                <span>|</span>
                                
                                <span class="meta-category"><a href="http://www.sszblog.xyz/categories/spring">Spring</a></span>
                                
                            </div>
                            
                            <div class="post-content">
                                其他一些日常工作中遇到的问题：
1.如果需要在sit环境引入多个配置文件,比如application.yml何application-common.yml,只需要在application.yml中加入spring.profiles.include = common即可。 2.@Scope默认是单例模式，即scope=&ldquo;singleton&rdquo;。 另外scope还有prototype、request、session、global session作用域。scope=&ldquo;prototype&rdquo;多例 3.@Aspect执行顺序问题 Aspect先执行是随机的，如果需要定义顺序，可以使用@Order注解修饰Aspect类。值越小，优先级越高。……
                            </div>
                            <p class="readmore"><a href="http://www.sszblog.xyz/project/%E5%85%B6%E4%BB%96/">阅读全文</a></p>
                        </article>
                    
                        <article class="post">
                            <header>
                                <h1 class="post-title">
                                    <a href="http://www.sszblog.xyz/project/%E5%9F%BA%E4%BA%8E%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%99%A8/" title="基于自定义注解的参数解析器" >基于自定义注解的参数解析器</a>
                                </h1>
                            </header>
                            <date class="post-meta meta-date">
                                2019年11月14日
                            </date>
                            
                            <div class="post-meta">
                                <span>|</span>
                                
                                <span class="meta-category"><a href="http://www.sszblog.xyz/categories/spring">Spring</a></span>
                                
                            </div>
                            
                            <div class="post-content">
                                基于自定义注解的参数解析器 背景 在工作中，常会对接一些第三方应用，通常第三方会采用Rsa+Aes加密来通信，但是每个第三方的加密方式可能不一致。此时得好好规划一下实现方案了。因此我们采用注解+Spring自带了参数解析类，实现自己的参数解析器。
原理 通过HandlerMethodArgumentResolver实现自定义参数解析
实现 步骤1：创建注解，例如创建一个解析Aes加密的注解AesJson import java.lang.annotation.*; @Target({ElementType.PARAMETER}) @Retention(RetentionPolicy.RUNTIME) @Documented public @interface AesJson { }  步骤2：创建加密参数实体类对象 传入的JSON数据格式为{&ldquo;data&rdquo;:&ldquo;xxxxxxxxxx&rdquo;}
import lombok.Data; @Data public class AesBaseParams { private String data; }  步骤3：新建AesArgumentResolver类实现HandlerMethodArgumentResolver import com.alibaba.fastjson.JSON; import org.apache.commons.lang.StringUtils; import org.slf4j.Logger; import org.slf4j.LoggerFactory; import org.springframework.core.MethodParameter; import org.springframework.web.bind.support.WebDataBinderFactory; import org.springframework.web.context.request.NativeWebRequest; import org.springframework.web.method.support.HandlerMethodArgumentResolver; import org.springframework.web.method.support.ModelAndViewContainer; import javax.servlet.http.HttpServletRequest; import java.io.BufferedReader; import java.io.IOException; import java.io.InputStream; import java.io.InputStreamReader; import java.net.URLDecoder; import java.util.HashMap; import java.util.Map; import java.util.Objects; /** * aes加密算法加密的入参，通过@AesJson注解自动解析 */ public class AesArgumentResolver implements HandlerMethodArgumentResolver { private static final Logger logger = LoggerFactory.……
                            </div>
                            <p class="readmore"><a href="http://www.sszblog.xyz/project/%E5%9F%BA%E4%BA%8E%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%99%A8/">阅读全文</a></p>
                        </article>
                    
                        <article class="post">
                            <header>
                                <h1 class="post-title">
                                    <a href="http://www.sszblog.xyz/project/%E6%97%A5%E5%BF%97%E4%BC%98%E5%8C%96mdc/" title="日志优化MDC" >日志优化MDC</a>
                                </h1>
                            </header>
                            <date class="post-meta meta-date">
                                2019年11月14日
                            </date>
                            
                            <div class="post-meta">
                                <span>|</span>
                                
                                <span class="meta-category"><a href="http://www.sszblog.xyz/categories/spring">Spring</a></span>
                                
                            </div>
                            
                            <div class="post-content">
                                MDC(Mapped Diagnostic Context) 实现 步骤1：创建MDCFilter实现Filter filter（过滤器）作用于在intreceptor(拦截器)之前，不像intreceptor一样依赖于springmvc框架，只需要依赖于serverlet。 在过滤之前在reqId钟放入uuid并在结束之后remove
import org.slf4j.Logger; import org.slf4j.LoggerFactory; import org.slf4j.MDC; import org.springframework.stereotype.Component; import javax.servlet.*; import javax.servlet.http.HttpServletRequest; import java.io.IOException; import java.util.UUID; /** * @Author shizhongcai * @Date 2019/11/15 11:15 */ @Component public class MDCFilter implements Filter { private static final Logger LOG = LoggerFactory.getLogger(MDCFilter.class); public static final String MDC_ID = &quot;reqId&quot;; @Override public void init(FilterConfig filterConfig) throws ServletException { } @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { boolean mdcFlag = false; try { MDC.……
                            </div>
                            <p class="readmore"><a href="http://www.sszblog.xyz/project/%E6%97%A5%E5%BF%97%E4%BC%98%E5%8C%96mdc/">阅读全文</a></p>
                        </article>
                    
                        <article class="post">
                            <header>
                                <h1 class="post-title">
                                    <a href="http://www.sszblog.xyz/project/%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1/" title="统一返回对象" >统一返回对象</a>
                                </h1>
                            </header>
                            <date class="post-meta meta-date">
                                2019年11月14日
                            </date>
                            
                            <div class="post-meta">
                                <span>|</span>
                                
                                <span class="meta-category"><a href="http://www.sszblog.xyz/categories/spring">Spring</a></span>
                                
                            </div>
                            
                            <div class="post-content">
                                1.创建实体类BaseRspVo
@Data public class BaseRspVo&lt;T&gt; { private boolean success; private String msg; private Integer errorCode; private T data; public BaseRspVo() { } public BaseRspVo (T data){ this.success = true; this.msg= ErrorCodesEnum.SUCCESS.getMsg(); this.errorCode = ErrorCodesEnum.SUCCESS.getCode(); this.data = data; } public BaseRspVo(ErrorCodesEnum errorCode) { if(errorCode == ErrorCodesEnum.SUCCESS) { this.success = true; } else { this.success = false; } this.msg = errorCode.getMsg(); this.errorCode = errorCode.getCode(); } } 错误Code枚举类 public enum ErrorCodesEnum { SUCCESS(10000,&quot;成功&quot;), SYS_ERROR(1000,&quot;系统异常，请稍后再试&quot;), DUPLICATE_KEY(10001,&quot;数据库中已存在该记录&quot;), NO_HANDLER_FOUND(10002,&quot;路径不存在，请检查路径是否正确&quot;), DEFAULT_FAIL(10003,&quot;未知异常，请稍后再试&quot;), DECRYPT_ERROR(10004,&quot;解密出错&quot;), ; /** * 错误码 */ private int code; /** * 错误描述 */ private String msg; ErrorCodesEnum(int code, String msg) { this.……
                            </div>
                            <p class="readmore"><a href="http://www.sszblog.xyz/project/%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1/">阅读全文</a></p>
                        </article>
                    
                    



<ol class="page-navigator">
    

    
    <li  class="current">
        <a href="http://www.sszblog.xyz/">1</a>
    </li>
    
    <li >
        <a href="http://www.sszblog.xyz/page/2/">2</a>
    </li>
    
    <li >
        <a href="http://www.sszblog.xyz/page/3/">3</a>
    </li>
    
    <li >
        <a href="http://www.sszblog.xyz/page/4/">4</a>
    </li>
    

    
    <li class="next">
        <a href="http://www.sszblog.xyz/page/2/">下一页</a>
    </li>
    
</ol>



                </div>
            </div>

            <div id="secondary">
    <section class="widget">
        <form id="search" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="http://www.sszblog.xyz">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">分类</h3>
<ul class="widget-list">
    
    <li>
        <a href="http://www.sszblog.xyz/categories/git/">git(1)</a>
    </li>
    
    <li>
        <a href="http://www.sszblog.xyz/categories/java/">java(16)</a>
    </li>
    
    <li>
        <a href="http://www.sszblog.xyz/categories/linux/">linux(1)</a>
    </li>
    
    <li>
        <a href="http://www.sszblog.xyz/categories/markdown/">markdown(1)</a>
    </li>
    
    <li>
        <a href="http://www.sszblog.xyz/categories/other/">other(4)</a>
    </li>
    
    <li>
        <a href="http://www.sszblog.xyz/categories/spring/">spring(9)</a>
    </li>
    
    <li>
        <a href="http://www.sszblog.xyz/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式(1)</a>
    </li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title">标签</h3>
<div class="tagcloud">
    
    <a href="http://www.sszblog.xyz/tags/git/">git</a>
    
    <a href="http://www.sszblog.xyz/tags/guava/">guava</a>
    
    <a href="http://www.sszblog.xyz/tags/java/">java</a>
    
    <a href="http://www.sszblog.xyz/tags/java8/">java8</a>
    
    <a href="http://www.sszblog.xyz/tags/linux/">linux</a>
    
    <a href="http://www.sszblog.xyz/tags/markdown/">markdown</a>
    
    <a href="http://www.sszblog.xyz/tags/other/">other</a>
    
    <a href="http://www.sszblog.xyz/tags/spring/">spring</a>
    
    <a href="http://www.sszblog.xyz/tags/xml/">xml</a>
    
    <a href="http://www.sszblog.xyz/tags/%E5%85%B6%E4%BB%96/">其他</a>
    
    <a href="http://www.sszblog.xyz/tags/%E5%9F%BA%E7%A1%80/">基础</a>
    
    <a href="http://www.sszblog.xyz/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/">多线程</a>
    
    <a href="http://www.sszblog.xyz/tags/%E5%B9%B6%E5%8F%91/">并发</a>
    
    <a href="http://www.sszblog.xyz/tags/%E5%BC%82%E5%B8%B8/">异常</a>
    
    <a href="http://www.sszblog.xyz/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a>
    
</div>
    </section>

    

    
</div>
        </div>
    </div>
</div>
<footer id="footer">
    <div class="container">
        &copy; 2019 <a href="http://www.sszblog.xyz">Shi.bro的博客 By Shi.bro</a>.
        
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src="/js/totop.js?v=0.0.0" async=""></script>







</body>
</html>
